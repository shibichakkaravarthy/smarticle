"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//@ts-ignore
var deepForceUpdate = require("react-deep-force-update");
var devtools_1 = require("../devtools");
var reconciler_1 = require("../reconciler");
var createElement_1 = require("../utils/createElement");
var hot_1 = require("../misc/hot");
exports.ROOT_NODE = {};
var AppRegistry = {
    registerComponent: function (name, component) {
        var newComponent = process.env.NODE_ENV === "production" ? component : hot_1.hot(component);
        devtools_1.connectDevtools(reconciler_1.default);
        exports.ROOT_NODE = createElement_1.createElement("ROOT", {});
        exports.container = reconciler_1.default.createContainer(exports.ROOT_NODE);
        reconciler_1.default.updateContainer(newComponent, exports.container, null);
    },
    updateProxy: function (app) {
        if (exports.container) {
            hot_1.hot(app);
            //@ts-ignore
            exports.container._reactInternalInstance = exports.container.current;
            deepForceUpdate(exports.container);
        }
    }
};
exports.default = AppRegistry;
